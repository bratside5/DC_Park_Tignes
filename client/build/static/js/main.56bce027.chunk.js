(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{29:function(e,t,s){},38:function(e,t,s){"use strict";s.r(t);var a=s(0),r=s.n(a),c=s(17),n=s.n(c),i=(s(29),s(2)),l=s.n(i),o=s(4),m=s(3),j=s(24),x=function(e,t){var s=localStorage.getItem(e),r=s?JSON.parse(s):t,c=Object(a.useState)(r),n=Object(m.a)(c,2),i=n[0],l=n[1];return Object(a.useEffect)((function(){localStorage.setItem(e,JSON.stringify(i))}),[e,i]),[i,l]},d=s.p+"static/media/logo.bc2e0d6b.jpeg",b=s.p+"static/media/flag-fr.291ca9b1.jpg",u=s(11),g=s(1),h=function(){var e=function(e){u.a.changeLanguage(e)};return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:"flex flex-row items-center justify-center py-6",children:[Object(g.jsx)("button",{type:"button",onClick:function(){return e("fr")},className:"w-1/4 h-auto",children:Object(g.jsx)("img",{onClick:function(){return e("fr")},src:b,alt:"",className:" rounded-full shadow mr-2"})}),Object(g.jsx)("button",{type:"button",onClick:function(){return e("en-GB")},className:"w-1/4 h-auto",children:Object(g.jsx)("img",{src:"data:image/png;base64,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",alt:"",className:"rounded-full ml-2"})})]})})},f=s(39),p=function(){return Object(g.jsxs)("div",{className:"App",children:[Object(g.jsx)("img",{src:d,className:"App-logo",alt:"logo"}),Object(g.jsx)("div",{children:"loading..."})]})};function O(){return Object(g.jsx)(a.Suspense,{fallback:Object(g.jsx)(p,{}),children:Object(g.jsx)(N,{})})}var N=function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(S,{}),Object(g.jsx)(A,{}),Object(g.jsx)(k,{})]})},S=function(){var e=Object(f.a)(),t=e.t;e.i18n;return Object(g.jsxs)("section",{children:[Object(g.jsx)("div",{className:"flex items-center justify-center",children:Object(g.jsx)("img",{src:d,alt:""})}),Object(g.jsx)("div",{className:"container mx-auto px-3",children:Object(g.jsx)("h1",{className:"text-4xl text-center",children:t("title")})}),Object(g.jsx)("div",{className:"py-6",children:Object(g.jsx)(h,{})}),Object(g.jsxs)("div",{className:"container mx-auto",children:[Object(g.jsx)("h1",{className:"text-xl text-center font-medium py-3",children:t("rules.part1")}),Object(g.jsx)("h2",{className:"text-lg text-center font-light py-3",children:t("rules.part2")}),Object(g.jsx)("h2",{className:"text-lg text-center font-light py-3",children:t("rules.part3")})]})]})},k=function(){var e=Object(f.a)(),t=e.t,s=(e.i18n,new Date),r={defaultValues:{first_name:"",second_name:"",isRegistered:"",email:"",instagram:"",date:s.toLocaleString()}},c=x("first_name",""),n=Object(m.a)(c,2),i=n[0],d=n[1],b=x("second_name",""),u=Object(m.a)(b,2),h=u[0],p=u[1],O=x("id",""),N=Object(m.a)(O,2),S=(N[0],N[1]),k=Object(a.useState)(!1),A=Object(m.a)(k,2),y=A[0],v=A[1],I=Object(j.a)({formData:r,mode:"onChange"}),F=I.register,R=I.handleSubmit,q=I.errors,K=I.formState.isSubmitted,w=function(){var e=Object(o.a)(l.a.mark((function e(t,a){var r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.target.reset(),v(!0),e.next=4,fetch("http://dcparktignes.com/api/park/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({first_name:t.firstName,second_name:t.surName,email:t.email,instagram:t.instagram,isRegistered:t.consent,date:s.toLocaleString()})});case 4:return r=e.sent,e.next=7,r.json();case 7:c=e.sent,q?console.log(q):console.log("success, redirect to home page"),v(!1),console.log(c._id),S(c._id),window.location.reload(),K&&console.log("Form Posted");case 14:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}();return Object(g.jsx)("section",{className:"bg-gray-200",children:Object(g.jsxs)("form",{onSubmit:R(w),children:[Object(g.jsxs)("div",{className:"flex flex-col items-center justify-center pt-6",children:[Object(g.jsxs)("label",{htmlFor:"firstName",className:"text-center mb-2 uppercase font-bold text-lg text-grey-darkest",children:[t("form.firstName")," ",Object(g.jsxs)("span",{className:"font-light text-sm",children:[" (",t("form.required"),")"]})]}),Object(g.jsx)("input",{className:"rounded shadow-md w-3/4 border py-2 px-3 text-grey-darkest",name:"firstName",ref:F({required:"First Name is required.",message:"First Name is required."}),value:i,onChange:function(e){d(e.target.value)}}),q.firstName&&Object(g.jsx)("p",{className:"errorMsg",children:q.firstName.message})]}),Object(g.jsxs)("div",{className:"flex flex-col items-center justify-center pt-4",children:[Object(g.jsxs)("label",{htmlFor:"surName",className:"text-center mb-2 uppercase font-bold text-lg text-grey-darkest",children:[t("form.secondName")," ",Object(g.jsxs)("span",{className:"font-light text-sm",children:[" (",t("form.required"),")"]})]}),Object(g.jsx)("input",{className:"rounded shadow-md w-3/4 border py-2 px-3 text-grey-darkest",name:"surName",ref:F({required:"Surname is required.",message:"Surname is required."}),value:h,onChange:function(e){p(e.target.value)}}),q.surName&&Object(g.jsx)("p",{className:"errorMsg",children:q.surName.message})]}),Object(g.jsxs)("div",{className:"flex flex-col items-center justify-center pt-4",children:[Object(g.jsxs)("label",{htmlFor:"email",className:"text-center mb-2 uppercase font-bold text-lg text-grey-darkest",children:["Email"," ",Object(g.jsxs)("span",{className:"font-light text-sm",children:[" (",t("form.optional"),")"]})]}),Object(g.jsx)("input",{className:"rounded shadow-md w-3/4 border py-2 px-3 text-grey-darkest",name:"email",ref:F({pattern:{value:/^[^@ ]+@[^@ ]+\.[^@ .]{2,}$/,message:"Email is not valid."}})}),q.email&&Object(g.jsx)("p",{className:"errorMsg",children:q.email.message})]}),Object(g.jsxs)("div",{className:"flex flex-col items-center justify-center pt-4",children:[Object(g.jsxs)("label",{htmlFor:"instagram",className:"text-center mb-2 uppercase font-bold text-lg text-grey-darkest",children:["Instagram"," ",Object(g.jsxs)("span",{className:"font-light text-sm",children:[" (",t("form.optional"),")"]})]}),Object(g.jsx)("input",{className:"rounded shadow-md w-3/4 border py-2 px-3 text-grey-darkest",name:"instagram",ref:F({})}),q.instagram&&Object(g.jsx)("p",{className:"errorMsg",children:q.instagram.message})]}),Object(g.jsxs)("div",{className:"flex flex-col items-center justify-center pt-4",children:[Object(g.jsxs)("label",{htmlFor:"consent",className:"text-center mb-2 uppercase font-bold text-lg text-grey-darkest",children:[t("form.consent")," ",Object(g.jsxs)("span",{className:"font-light text-sm",children:[" (",t("form.required"),")"]}),Object(g.jsx)("hr",{}),Object(g.jsx)("span",{className:"font-light text-md",children:t("form.consentText")})]}),Object(g.jsx)("input",{type:"checkbox",className:"rounded shadow-md text-grey-darkest",name:"consent",style:{width:40,height:40,transform:"2.5"},ref:F({required:"Consent is required.",message:"Consent is required."})}),q.consent&&Object(g.jsx)("p",{className:"errorMsg",children:q.consent.message})]}),Object(g.jsx)("div",{className:"text-center container w-full h-full py-6",children:y?Object(g.jsxs)("div",{className:"pt-4",children:[Object(g.jsx)("h3",{children:"Posting Data..."}),Object(g.jsx)("button",{className:"bg-green-300 p-2 border-gray-900 shadow rounded w-1/2",type:"submit",disabled:!0,children:"Submitting"})]}):Object(g.jsx)("div",{className:"py-4",children:Object(g.jsx)("button",{className:"bg-green-500 p-2 border-gray-900 shadow rounded w-1/2",type:"submit",children:t("form.submit")})})})]})})},A=function(e){var t,s=localStorage.getItem("id");t=null===localStorage.getItem("id")?"2345":s.slice(1,-1);var r="http://dcparktignes.com/api/park/".concat(t);console.log(t);var c,n,i=Object(a.useState)({}),j=Object(m.a)(i,2),x=j[0],d=j[1],b=function(){var e=Object(o.a)(l.a.mark((function e(){var t,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(r);case 2:return t=e.sent,e.next=5,t.json();case 5:s=e.sent,d(s);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){b()}),[]),"false"===x.isRegistered?c=Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("h1",{className:"text-grey-900 font-normal text-2xl",children:["Hi ",x.first_name,Object(g.jsx)("br",{})," ",Object(g.jsx)("span",{className:"pb-6 px-4",children:"Welcome Back to DC Park Tignes"})]}),Object(g.jsxs)("h1",{className:"text-xl text-red-500",children:["You seem to be unregistered for today",Object(g.jsx)("br",{})," Please register to use the snowpark"]})]}):"true"===x.isRegistered&&(c=Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("h1",{className:"text-grey-900 font-normal text-2xl",children:["Hi ",x.first_name,Object(g.jsx)("br",{})," ",Object(g.jsx)("span",{className:"pt-6 px-4",children:"Welcome Back to DC Park Tignes"})]}),Object(g.jsxs)("h1",{className:"text-xl pt-6 px-4 text-green-500",children:["Yewwww!",Object(g.jsx)("br",{})," Your all registered for today! Enjoy the park!"]})]})),x.first_name?x.firstName&&(n=Object(g.jsxs)("h1",{className:"text-green-500",children:["Hi ",x.first_name]})):n=Object(g.jsxs)("h1",{className:"text-grey-900 font-normal text-2xl",children:["Welcome to DC Park Tignes",Object(g.jsx)("br",{}),Object(g.jsx)("h2",{className:"text-red-500 pt-6 px-4 text-xl",children:"You seem to be unregistered for today, Please register to use the snowpark"})]}),Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("div",{className:"bg-gray-100 py-6 text-center",children:Object(g.jsxs)("div",{className:"",children:[Object(g.jsx)("span",{className:"",children:n}),Object(g.jsx)("span",{className:"",children:c})]})})})},y=function(){return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("div",{className:"",children:Object(g.jsx)(O,{})})})},v=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,40)).then((function(t){var s=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,n=t.getTTFB;s(e),a(e),r(e),c(e),n(e)}))},I=s(12),F=s(21),R=s(23);u.a.use(F.a).use(R.a).use(I.e).init({fallbackLng:"en-GB",debug:!1,interpolation:{escapeValue:!1}});u.a;n.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(y,{})}),document.getElementById("root")),v()}},[[38,1,2]]]);
//# sourceMappingURL=main.56bce027.chunk.js.map